<div class="panel panel-default" *ngIf="isDetails==false">
<p-dataTable [value]="workOrderList" [emptyMessage]="'暂无数据'">
    <p-column field="sn" header="工单编号" [style]="{'width':'15%'}"></p-column>
    <p-column field="alarmType" header="报警类型"></p-column>
    <p-column field="alarmLevel" header="报警等级"></p-column>
    <p-column field="companyCode" header="业户编码">
      <ng-template let-workOrder="rowData" pTemplate="body">
        <span>{{workOrder.companyCode || '无'}}</span>
      </ng-template>
    </p-column>
    <p-column field="ownerName" header="业户名称">
      <ng-template let-workOrder="rowData" pTemplate="body">
        <span>{{workOrder.ownerName || '无'}}</span>
      </ng-template>
    </p-column>
    <p-column field="operateManager" header="经营负责人">
      <ng-template let-workOrder="rowData" pTemplate="body">
        <span>{{workOrder.operateManager || '无'}}</span>
      </ng-template>
    </p-column>
    <p-column field="phone" header="电话">
      <ng-template let-workOrder="rowData" pTemplate="body">
        <span>{{workOrder.phone || '无'}}</span>
      </ng-template>
    </p-column>
    <p-column field="frameNo" header="车架号">
      <ng-template let-workOrder="rowData" pTemplate="body">
        <span>{{workOrder.frameNo || '无'}}</span>
      </ng-template>
    </p-column>
    <p-column field="userID" header="从业人员身份证号">
      <ng-template let-workOrder="rowData" pTemplate="body">
        <span>{{workOrder.userID || '无'}}</span>
      </ng-template>
    </p-column>
    <p-column field="dateCreated" header="创建时间"></p-column>
    <p-column field="checkTime" header="检查时间"></p-column>
    <p-column field="rectificationTime" header="整改时间"></p-column>
    <p-column field="note" header="备注">
      <ng-template let-workOrder="rowData" pTemplate="body">
        <span>{{workOrder.note || '无'}}</span>
      </ng-template>
    </p-column>
    <p-column field="status" header="工单状态"></p-column>
    <p-column field="" header="操作" styleClass=operation-buttons-1>
            <ng-template let-workOrder="rowData" pTemplate="body">
                <div role="button" class="fa fa-list fa-font-size div-distance" (click)="preEdit(workOrder.id)" tooltip="详情" placement="bottom"></div>
            </ng-template>
    </p-column>
  </p-dataTable>
  <p-paginator  rows="{{max}}" totalRecords="{{total}}" (onPageChange)="paginate($event)" *ngIf="workOrderList?.length>0"></p-paginator>
</div>

<div class="panel panel-default" *ngIf="isDetails==true">
    <div class="panel-heading">
        <div class="row">
            <div class="col-sm-6">
                <h4>{{workOrderTitle}}</h4>
            </div>
            <div class="col-sm-6">
                <button pButton type="button" label="返回" class="pull-right" (click)="return()"></button>
            </div>
        </div>
    </div>
    <div class="panel-body no-padding showDetails">
            <div class="col-sm-12 form-horizontal">
                <div class="row">
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">业户编号：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.sn}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">报警类型：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.alarmType}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">报警等级：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.alarmLevel}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">业户编码：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.companyCode}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">经营负责人：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.operateManager}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">电话：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.phone}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">车架号：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.frameNo || '无'}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">从业人员身份证ID：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.userID || '无'}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">执行角色名称：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.todoRole || '无'}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">创建日期</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.dateCreated}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">检查日期：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.checkTime}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">整改时间：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.rectificationTime}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">工单状态：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.status}}</p>
                        </div>
                    </div>
    
                    <div class="form-group col-sm-4">
                        <label class="col-sm-5 control-label">备注：</label>
                        <div class="col-sm-7">
                            <p class="form-control-static">{{workOrder.note}}</p>
                        </div>
                    </div>
    
                </div>
            </div>
        </div>
  
</div>

