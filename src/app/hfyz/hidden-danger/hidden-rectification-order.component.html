<div class="panel panel-default"  *ngIf="isDetails==false && edit==false">
  <div class="panel-heading">
    <div class="row">
      <div class="col-sm-12">
        <form class="form-horizontal">
          <div class="form-group">
            <div class="col-sm-3">
              <div class="input-group">
                <span class="input-group-addon">业户名称：</span>
                <input type="text" class="form-control" [(ngModel)]="company" name="company" placeholder="请输入业户名称..."/>
              </div>
            </div>
            <div class="col-md-5">
              <div class="input-group">
                <span class="input-group-addon">上报时间：</span>
                <div>
                  <p-calendar [(ngModel)]="startDate" name="startDate" dateFormat="yy-mm-dd" [maxDate]="maxDate" [showTime]="true" [readonlyInput]="true"></p-calendar>
                  -
                  <p-calendar [(ngModel)]="endDate" name="endDate" dateFormat="yy-mm-dd" [maxDate]="maxDate"  [showTime]="true" [readonlyInput]="true"></p-calendar>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <button pButton label="检索" type="button"(click)="initData()"></button>
              <button pButton label="取消" type="button" (click)="cancel()"></button>
              <button pButton label="新增" type="button" (click)="onCreat()"></button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-md-12">
        <p-dataTable [value]="hiddenRectificationOrderList" [emptyMessage]="'暂无数据'">
          <p-column field="billNo" header="单据编号"></p-column>
          <p-column field="enterpirse" header="业户名称"></p-column>
          <p-column field="examiner" header="检查人"></p-column>
          <p-column field="inspectionDate" header="检查日期"></p-column>
          <p-column field="dealineDate" header="整改期限"></p-column>
          <p-column field="status" header="状态"></p-column>
          <p-column field="" header="操作" [style]="{'width':'24%'}">
            <ng-template let-hiddenRectificationOrder="rowData" pTemplate="body">
              <button pButton type="button" label="编辑" (click)="onEdit(hiddenRectificationOrder)" [disabled]="disabled"></button>
              <button pButton type="button" label="删除" (click)="onDelete(hiddenRectificationOrder)" [disabled]="disabled"></button>
              <button pButton type="button" label="详情" (click)="preEdit(hiddenRectificationOrder.id)"></button>
            </ng-template>
          </p-column>
        </p-dataTable>
        <p-paginator rows="{{max}}" totalRecords="{{total}}" (onPageChange)="paginate($event)"></p-paginator>
      </div>
    </div>
  </div>
</div>

<div *ngIf="edit">
  <div class="panel panel-default">
    <div class="panel-heading">
      <div class="form-group"  >
        <h4><span>{{hiddenRectificationOrderTitle}}</span></h4>
      </div>
    </div>

    <div class="panel-body">
      <form class="form-horizontal">
        <div class="form-group">
          <div class="col-xs-6 col-sm-6">
            <label for="enterpirse" class="col-xs-2 col-sm-2 dialog-label" right>业户名称：<span class="notNull">*</span></label>
            <div class="col-xs-2 col-sm-4">
              <input type="text" class="form-control" id="enterpirse" name="enterpirse"
                     style="width:175px;" [(ngModel)]="hiddenRectificationOrder.enterpirse">
            </div>
          </div>
          <div class="col-xs-6 col-sm-6">
            <label for="area" class="col-xs-3 col-sm-2 dialog-label" right>区域：</label>
            <div class="col-xs-3 col-sm-4">
              <input type="text" class="form-control" id="area" name="area" [(ngModel)]="hiddenRectificationOrder.area">
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-6 col-sm-6">
            <label for="inspectionDate" class="col-xs-2 col-sm-2 dialog-label" right>检查日期：<span class="notNull">*</span></label>
            <div class="col-xs-4 col-sm-2">
              <p-calendar name="inspectionDate" id="inspectionDate" dateFormat="yy-mm-dd" [showTime]="true" [readonlyInput]="true"
                          [(ngModel)]="inspection"></p-calendar>
            </div>
          </div>
          <div class="col-xs-6 col-sm-6">
            <label for="examiner" class="col-xs-2 col-sm-2 dialog-label" right>检查人：<span class="notNull">*</span></label>
            <div class="col-xs-4 col-sm-4">
              <input type="text" class="form-control" id="examiner" name="examiner" [(ngModel)]="hiddenRectificationOrder.examiner">
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-6 col-sm-6">
            <label for="dealineDate" class="col-xs-2 col-sm-2 dialog-label" right>整改期限：<span class="notNull">*</span></label>
            <div class="col-xs-4 col-sm-2">
              <p-calendar name="dealineDate" id="dealineDate" dateFormat="yy-mm-dd" [showTime]="true" [readonlyInput]="true"
                          [(ngModel)]="dealine">></p-calendar>
            </div>
          </div>

        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label for="insPosition" class="col-xs-1 col-sm-1 dialog-label" right>检查地点：<span class="notNull">*</span></label>
            <div class="col-xs-6 col-sm-6">
        <textarea class="form-control" id="insPosition" name="insPosition" [(ngModel)]="hiddenRectificationOrder.insPosition"
                  style="resize:none;width:660px;height:80px;"  maxlength="1500"></textarea>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label for="insDesc" class="col-xs-1 col-sm-1 dialog-label" right>检查内容：<span class="notNull">*</span></label>
            <div class="col-xs-6 col-sm-6">
        <textarea class="form-control" id="insDesc" name="insDesc" [(ngModel)]="hiddenRectificationOrder.insDesc"
                  style="resize:none;width:660px;height:80px;"  maxlength="1500"></textarea>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label for="insQuestion" class="col-xs-1 col-sm-1 dialog-label" right>存在问题：<span class="notNull">*</span></label>
            <div class="col-xs-6 col-sm-6">
        <textarea class="form-control" id="insQuestion" name="insQuestion" [(ngModel)]="hiddenRectificationOrder.insQuestion"
                  style="resize:none;width:660px;height:80px;"  maxlength="1500"></textarea>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label for="proPosal" class="col-xs-1 col-sm-1 dialog-label" right>整改意见：<span class="notNull">*</span></label>
            <div class="col-xs-6 col-sm-6">
        <textarea class="form-control" id="proPosal" name="proPosal" [(ngModel)]="hiddenRectificationOrder.proPosal"
                  style="resize:none;width:660px;height:80px;"  maxlength="1500"></textarea>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <button  pButton type="button" label="保存" (click)="onSaveNew()" ></button>
            <button  pButton type="button" label="返回" (click)="return()" ></button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<p-dialog header="提示" [(visible)]="displayDialog" modal="modal" height="200" width="300" [responsive]="true">
  <P>是否保存信息？请选择！</P>
  <p-footer>
    <button type="button" pButton icon="fa-check" (click)="isAdd?onSave():update()" label="是"></button>
    <button type="button" pButton icon="fa-close" (click)="onCancel()" label="否"></button>
  </p-footer>
</p-dialog>

<div *ngIf="isDetails">
  <div class="panel panel-default" >
    <div class="panel-heading">
      <h4><span>{{hiddenRectificationOrderTitle}}</span></h4>
    </div>
    <div class="panel-body">
      <form class="form-horizontal">
        <div class="form-group">
          <div class="col-xs-6 col-sm-6">
            <label class="col-xs-2 col-sm-2" right>业户名称:</label>
            <div class="col-xs-2 col-sm-4">
              <span>{{hiddenRectificationOrder.enterpirse}}</span>
            </div>
          </div>
          <div class="col-xs-6 col-sm-6">
            <label class="col-xs-2 col-sm-2 dialog-label" right>区域：</label>
            <div class="col-xs-2 col-sm-4">
              <span>{{hiddenRectificationOrder.area || '无'}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-6 col-sm-6">
            <label class="col-xs-2 col-sm-2 dialog-label" right>检查日期：</label>
            <div class="col-xs-2 col-sm-4">
              <span>{{inspection | date: "yyyy-MM-dd HH:mm"}}</span>
            </div>
          </div>
          <div class="col-xs-6 col-sm-6">
            <label class="col-xs-2 col-sm-2 dialog-label" right>检查人：</label>
            <div class="col-xs-2 col-sm-4">
              <span>{{hiddenRectificationOrder.examiner}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-6 col-sm-6">
            <label class="col-xs-2 col-sm-2 dialog-label" right>整改期限：</label>
            <div class="col-xs-2 col-sm-4">
              <span>{{dealine | date: "yyyy-MM-dd HH:mm"}}</span>
            </div>
          </div>
          <div class="col-xs-6 col-sm-6">
            <label class="col-xs-2 col-sm-2 "right>状态：</label>
            <div class="col-xs-2 col-sm-4">
              <span>{{hiddenRectificationOrder.status}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label class="col-xs-1 col-sm-1" right>检查地点：</label>
            <div class="col-xs-8 col-sm-8">
              <span>{{hiddenRectificationOrder.insPosition}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label class="col-xs-1 col-sm-1" right>检查内容：</label>
            <div class="col-xs-8 col-sm-8">
              <span>{{hiddenRectificationOrder.insDesc}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label  class="col-xs-1 col-sm-1" right>存在问题：</label>
            <div class="col-xs-8 col-sm-8">
              <span>{{hiddenRectificationOrder.insQuestion}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label class="col-xs-1 col-sm-1" right>整改意见：</label>
            <div class="col-xs-8 col-sm-8">
              <span>{{hiddenRectificationOrder.proPosal}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label class="col-xs-1 col-sm-1" right>企业反馈：</label>
            <div class="col-xs-8 col-sm-8">
              <span>{{hiddenRectificationOrder.replyDesc || '无'}}</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12">
            <label class="col-xs-1 col-sm-1" right>反馈日期：</label>
            <div class="col-xs-8 col-sm-8">
              <span>{{!reply ? '无': reply | date: "yyyy-MM-dd HH:mm"}}</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-2">
            <button pButton class="return" label="返回" type="button" (click)="return()"></button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

